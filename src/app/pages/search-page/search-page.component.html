
  <div class="search-content">
    <div class="header-fixed" >
    <a  class="logo" routerLink="/" [class.hidden]="isHeaderTopHidden">
      @if(shopInfo?.logoPrimary){
        <img
          [ngSrc]="(shopInfo?.logoPrimary) | imgCtrl : 'filename'"
          [width]="(shopInfo?.logoPrimary) | imgCtrl : 'width'"
          [height]="(shopInfo?.logoPrimary) | imgCtrl : 'height'"
          [alt]="shopInfo?.websiteName"
          [ngSrcset]="rawSrcset"
          sizes="(max-width: 599px) 200px, (min-width: 600px) 400px"
        />
      }@else {
        <p>{{shopInfo?.websiteName}}</p>
      }
    </a>
    <div class="search-header">
     <button class="back-btn" type="button" (click)="goBack()">
       <svg
         xmlns="http://www.w3.org/2000/svg"
         fill="currentColor"
         class="bi bi-chevron-left"
         viewBox="0 0 16 16">
         <path
           fill-rule="evenodd"
           d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0"
         />
       </svg>
     </button>
      <form #searchForm="ngForm" (submit)="onSearchNavigate()">
        <div class="search-field">
          <input
            #searchInput
            autoInputFocus
            id="searchInput"
            class="tw"
            type="text"
            (keydown.enter)="onSearchNavigate()"
            name="searchTerm"
            autocomplete="off"
            ngModel
            placeholder="Search Here..."
          />
          @if(searchQuery) {
         <button class="clear-btn">
           <svg (click)="onClearSearch()" class="close" xmlns="http://www.w3.org/2000/svg" height="20px" viewBox="0 0 24 24" width="20px"
                fill="#666666">
             <path d="M0 0h24v24H0z" fill="none"/>
             <path
               d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z"/>
           </svg>
         </button>
          }
          <button class="search-btn">
            Search
          </button>
        </div>
      </form>

      <a class="cart" routerLink="/cart">
        <svg width="24" height="24" viewBox="0 0 25 25" fill="none" xmlns="http://www.w3.org/2000/svg">
          <g clip-path="url(#clip0)">
            <path
              d="M24.4941 3.36652H4.73614L4.69414 3.01552C4.60819 2.28593 4.25753 1.61325 3.70863 1.12499C3.15974 0.636739 2.45077 0.366858 1.71614 0.366516L0.494141 0.366516V2.36652H1.71614C1.96107 2.36655 2.19748 2.45647 2.38051 2.61923C2.56355 2.78199 2.68048 3.00626 2.70914 3.24952L4.29414 16.7175C4.38009 17.4471 4.73076 18.1198 5.27965 18.608C5.82855 19.0963 6.53751 19.3662 7.27214 19.3665H20.4941V17.3665H7.27214C7.02705 17.3665 6.79052 17.2764 6.60747 17.1134C6.42441 16.9505 6.30757 16.7259 6.27914 16.4825L6.14814 15.3665H22.3301L24.4941 3.36652ZM20.6581 13.3665H5.91314L4.97214 5.36652H22.1011L20.6581 13.3665Z"
              fill="#253D4E"/>
            <path
              d="M7.49414 24.3665C8.59871 24.3665 9.49414 23.4711 9.49414 22.3665C9.49414 21.2619 8.59871 20.3665 7.49414 20.3665C6.38957 20.3665 5.49414 21.2619 5.49414 22.3665C5.49414 23.4711 6.38957 24.3665 7.49414 24.3665Z"
              fill="#253D4E"/>
            <path
              d="M17.4941 24.3665C18.5987 24.3665 19.4941 23.4711 19.4941 22.3665C19.4941 21.2619 18.5987 20.3665 17.4941 20.3665C16.3896 20.3665 15.4941 21.2619 15.4941 22.3665C15.4941 23.4711 16.3896 24.3665 17.4941 24.3665Z"
              fill="#253D4E"/>
          </g>
          <defs>
            <clipPath id="clip0">
              <rect width="24" height="24" fill="white" transform="translate(0.494141 0.366516)"/>
            </clipPath>
          </defs>
        </svg>
        <span>{{ 0 }}</span>
      </a>
    </div>
    </div>
    <div id="homePageOnlyHeight" class="homepage-only-height" ></div>
    <div class="container">
    @if (searchProducts.length) {
      <div class="search-products">
        <div class="product-cards">
          @for (data of searchProducts; track data._id) {
            <div class="card" (click)="onSelectItem(data)">
              <div class="card-img">
                <img class="img-thumb"
                     [src]="data?.images && data?.images?.length? data?.images[0]: 'https://cdn.saleecom.com/upload/images/placeholder.png'"
                     alt="image" loading="lazy"/>
              </div>
              <div class="card-txts">
                <h4>{{ data?.name | titlecase }}</h4>
                <p>{{ data?.category?.name | titlecase }}</p>
                <div class="price">{{ (data | productPrice : "salePrice" : data?.variation?._id : data?.selectedQty) | currencyCtr }}
                  @if((data | productPrice : "discountAmount" : data?.variation?._id) > 0) {
                    <small>{{ data | productPrice : "regularPrice" : data?.variation?._id : data?.selectedQty }}</small>
                    <span class="discount-percentage">  {{  data | productPrice : "discountPercentage" }}% Off</span>
                  }
                </div>
              </div>
            </div>
          }
        </div>
      </div>
    }@else{
      <div class="no-data">
        <svg xmlns="http://www.w3.org/2000/svg" x="0px" y="0px" width="100" height="100" viewBox="0 0 24 24">
          <path d="M 9 2 C 5.1458514 2 2 5.1458514 2 9 C 2 12.854149 5.1458514 16 9 16 C 10.747998 16 12.345009 15.348024 13.574219 14.28125 L 14 14.707031 L 14 16 L 20 22 L 22 20 L 16 14 L 14.707031 14 L 14.28125 13.574219 C 15.348024 12.345009 16 10.747998 16 9 C 16 5.1458514 12.854149 2 9 2 z M 9 4 C 11.773268 4 14 6.2267316 14 9 C 14 11.773268 11.773268 14 9 14 C 6.2267316 14 4 11.773268 4 9 C 4 6.2267316 6.2267316 4 9 4 z"></path>
        </svg>
       <p>Search results will be showing here</p>
      </div>
    }
  </div>
</div>

